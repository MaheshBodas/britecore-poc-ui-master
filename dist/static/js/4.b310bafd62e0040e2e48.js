webpackJsonp([4],{"+wc8":function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n.el-header[data-v-01eb833f] {        \n  line-height: 30px;\n}\n.el-aside[data-v-01eb833f] {\n  color: #333;\n}\n",""])},"7tJU":function(e,t,i){var s=i("uH9/");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i("rjj0")("127d081d",s,!0)},A5YK:function(e,t,i){var s=i("+wc8");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i("rjj0")("13abb1bc",s,!0)},iDr9:function(e,t,i){"use strict";var s=i("Dd8w"),n=i.n(s),r=i("NYxO"),a={name:"risk-type-list",props:{preSelect:String,selectedType:Object},computed:n()({},Object(r.b)(["apiresult","apiexception"])),data:function(){return{options:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.selectedType.risktype="";var t=[];this.$store.dispatch("getRiskTypeKeys").then(function(i){var s;if(!0===e.apiresult)for(t=i,console.log("getRiskTypeKeys in RiskTypeList"),console.log(t),s=0;s<t.length;s++)e.options.push({text:t[s].risk_type_name,value:t[s].id})}).catch(function(){e.$notify({title:"Error",message:e.apiexception,type:"error",duration:2e3})})},selectChanged:function(e){this.$emit("change",e)}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{attrs:{size:"mini",clearable:"",placeholder:"Select RiskType"},on:{change:e.selectChanged},model:{value:e.selectedType.risktype,callback:function(t){e.$set(e.selectedType,"risktype",t)},expression:"selectedType.risktype"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))},staticRenderFns:[]};var o=i("VU/8")(a,l,!1,function(e){i("7tJU")},"data-v-1034d230",null);t.a=o.exports},qYEt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),r=i("NYxO"),a=i("iDr9"),l=i("YYkB"),o=i("Zrlr"),c=i.n(o),p=function e(){c()(this,e)};p.CarouselHelpText=[{id:1,text:"User can view Risk Instances using this form"},{id:2,text:"Select appropriate Risk Type from dropdown box."},{id:3,text:"Screen will show all Risks and associated instance fields in tabular format."}];var u={name:"view-risk-grid",components:{RiskTypeList:a.a,RotatingDisplay:l.a},data:function(){return{listLoading:!0,carouselhelptext:[],selectRiskType:{risktype:""},riskinstances:null,columnNames:null}},created:function(){this.populateHelpText()},computed:n()({},Object(r.b)(["apiresult","apiexception"])),filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},currencyFilter:function(e){return 0===arguments.length?null:"$ "+parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")}},methods:{selectRiskTypeChanged:function(e){""!==this.selectRiskType.risktype?this.fetchRiskInstanceData():this.resetRiskFormData()},populateHelpText:function(){var e;for(e=0;e<p.CarouselHelpText.length;e++)this.carouselhelptext.push(p.CarouselHelpText[e])},fetchRiskInstanceData:function(){var e=this;this.listLoading=!0,this.$store.dispatch("getRisks",this.selectRiskType.risktype).then(function(t){!0===e.apiresult&&(e.resetRiskFormData(),e.riskinstances=t,e.processRiskInstancesDataFromServer(),e.listLoading=!1)}).catch(function(){e.$notify({title:"Error",message:e.apiexception,type:"error",duration:2e3})})},resetRiskFormData:function(){this.riskinstances=null,this.columnNames=[]},processRiskInstancesDataFromServer:function(){var e;if(this.riskinstances&&(console.log("this.riskinstances"),console.log(this.riskinstances.length),this.riskinstances&&this.riskinstances.length>0)){var t=this.riskinstances[0];if(t.risk_riskfields&&t.risk_riskfields.length>0){var i=t.risk_riskfields;for(e=0;e<i.length;e++){var s=i[e].risk_type_field_name;this.columnNames.push(s)}}}}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container calendar-list-container"},[i("el-container",{staticStyle:{height:"500px",border:"1px solid #eee"}},[i("el-header",{staticStyle:{height:"90px",border:"1px solid #eee"}},[i("rotating-display",{attrs:{helpTextArray:e.carouselhelptext}})],1),e._v(" "),i("el-main",{staticStyle:{height:"350px",border:"1px solid #eee"}},[i("el-form",{ref:"risktypeForm",staticStyle:{width:"100%",align:"left","margin-left":"5px"},attrs:{model:e.selectRiskType,"label-position":"left","label-width":"130px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:16}},[i("el-form-item",{attrs:{label:"Select Risk Type",size:"mini",prop:"risk_type_name"}},[i("risk-type-list",{attrs:{selectedType:e.selectRiskType},on:{change:e.selectRiskTypeChanged}})],1)],1)],1)],1),e._v(" "),e.riskinstances&&e.riskinstances.length>0?i("el-form",{staticStyle:{width:"100%",align:"left","margin-left":"5px"},attrs:{"label-position":"left"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.riskinstances,"element-loading-text":"Give me some more time",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"Risk Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.risk_name))])]}}])}),e._v(" "),e._l(e.columnNames,function(t,s){return i("el-table-column",{key:t,attrs:{label:e._f("capitalize")(t)},scopedSlots:e._u([{key:"default",fn:function(t){return["currency"===t.row.risk_riskfields[s].risk_type_field_enum?i("div",[e._v("\n                  "+e._s(e._f("currencyFilter")(t.row.risk_riskfields[s].risk_field_value))+"\n                ")]):i("div",[e._v("\n                  "+e._s(t.row.risk_riskfields[s].risk_field_value)+"\n                ")])]}}])})})],2)],1):e._e(),e._v(" "),e.riskinstances?e._e():i("el-form",[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"Invaid Type Name or No Data found",size:"mini",prop:"risk_type_name"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var f={components:{ViewRiskGrid:i("VU/8")(u,d,!1,function(e){i("A5YK")},"data-v-01eb833f",null).exports}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app-container"}},[t("br"),this._v(" "),t("view-risk-grid")],1)},staticRenderFns:[]},k=i("VU/8")(f,h,!1,null,null,null);t.default=k.exports},"uH9/":function(e,t,i){(t=e.exports=i("FZ+f")(!1)).push([e.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.4.0/theme-chalk/index.css);",""]),t.push([e.i,"\r\n",""])}});